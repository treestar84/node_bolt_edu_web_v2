# 🎯 3단계 페이즈별 개발 계획

## 📋 **Phase 1: 색칠공부 기능** (예상 기간: 1-2주)

### 🎨 **기능 개요**
- 기존 단어 이미지들을 활용한 색칠공부
- 윤곽선만 남긴 템플릿 생성
- 터치로 색칠하는 인터랙티브 기능

### 📝 **세부 작업 리스트**

#### **1주차: 기반 시스템 구축**
```
📂 1.1 컴포넌트 및 라우트 설정 (1일)
- ColoringView.vue 생성
- 라우터에 /coloring 경로 추가
- Navigation에 색칠공부 메뉴 아이콘 추가

🎨 1.2 색칠 캔버스 시스템 구현 (2-3일)
- HTML5 Canvas 기반 그리기 엔진
- 터치/마우스 이벤트 처리
- 브러쉬 크기, 색상 선택 UI
- 실행취소(Undo) 기능

🖼️ 1.3 이미지 처리 시스템 (2일)
- 기존 단어 이미지를 윤곽선으로 변환하는 로직
- SVG 또는 Canvas를 이용한 윤곽선 추출
- 색칠 영역 감지 시스템
```

#### **2주차: 사용자 경험 완성**
```
🎯 1.4 색칠 게임 로직 (2일)
- 색칠 완성도 감지
- 완성 시 축하 애니메이션
- 저장 및 갤러리 기능

🎵 1.5 효과음 및 피드백 (1일)
- 색칠할 때 효과음
- 완성 시 축하 소리
- useGameSounds 확장

📱 1.6 UI/UX 완성 및 테스트 (2일)
- 3-4세 친화적 UI 디자인
- 색상 팔레트 최적화
- 반응형 디자인 적용
```

---

## 📋 **Phase 2: 가상 악기 기능** (예상 기간: 2-3주)

### 🎵 **기능 개요**
- 피아노, 바이올린, 자동차 사운드패드 가상 악기
- 터치로 연주하는 인터랙티브 음악 경험
- 3-4세 유아가 좋아하는 자동차 효과음 활용
- 간단한 동요 연주 가이드

### 📝 **세부 작업 리스트**

#### **1주차: 오디오 시스템 구축**
```
📂 2.1 기본 구조 및 오디오 엔진 (1일)
- MusicView.vue 생성 
- 라우터에 /music 경로 추가
- Navigation에 음악 메뉴 아이콘 추가
- Web Audio API 기반 사운드 시스템 구축
- useMusic.ts composable 생성

🎹 2.2 피아노 컴포넌트 구현 (3일)
- PianoInstrument.vue 컴포넌트 생성
- 흰건반(7개) + 검은건반(5개) UI 디자인
- 3-4세 손가락 크기에 최적화된 건반 크기
- 터치/마우스 이벤트 처리 (멀티터치 지원)
- 음계별 소리 생성 (C4~B4 옥타브)
- 건반 누를 때 시각적 피드백
```

#### **2주차: 특별한 악기들 구현**
```
🚗 2.3 자동차 사운드패드 구현 (3일)
- CarSoundPad.vue 컴포넌트 생성
- 8개 자동차 효과음 Web Audio API로 생성:
  * 🚨 경찰차 사이렌 ("위이잉~ 위이잉~")
  * 🚑 구급차 사이렌 ("삐뽀삐뽀~") 
  * 🚒 소방차 사이렌 ("우우우~ 우우우~")
  * 📯 경적소리 ("빵빵!")
  * 🚗 엔진소리 ("부릉부릉~")
  * 🚙 브레이크소리 ("끼익~")
  * 🛞 타이어소리 ("드르륵~")
  * ⚠️ 후진경보음 ("삐삐삐")
- 자동차 아이콘과 함께 패드 UI 디자인
- 패드 누를 때 진동 효과 및 애니메이션

🎻 2.4 바이올린 컴포넌트 구현 (2일)
- ViolinInstrument.vue 컴포넌트 생성
- 4개 현(G, D, A, E) 세로 배치 UI
- 손가락으로 현을 "긋는" 제스처 구현
- 활을 긋는 듯한 부드러운 바이올린 사운드 생성
- 터치 길이에 따른 음 지속시간 조절
```

#### **3주차: 통합 및 완성도**
```
🎼 2.5 악기 선택 및 통합 (2일)
- 메인 악기 선택 화면 구현
- 피아노/자동차사운드패드/바이올린 선택 카드
- 각 악기 미리보기 기능
- 부드러운 전환 애니메이션
- 악기별 배경 테마 적용

🎶 2.6 간단한 연주 가이드 (2일)
- 피아노용 "반짝반짝 작은별" 가이드 모드
- 건반에 순서대로 불빛 표시
- 자유 연주 모드와 가이드 모드 전환
- 올바른 순서로 누르면 별 애니메이션

🎨 2.7 UI/UX 최적화 및 테스트 (1일)
- 3-4세 유아 친화적 밝은 색상 테마
- 각 악기별 특색있는 디자인 적용
- 터치 반응성 최적화
- 다양한 디바이스에서 테스트
- 볼륨 조절 기능 추가
```

---

## 🛠️ **기술적 요구사항**

### **공통 기술 스택**
```typescript
// 새로운 Composables
- useColoring.ts (색칠 로직) ✅ 완료
- useMusic.ts (악기 및 오디오)
- useCanvas.ts (캔버스 그리기) ✅ 완료
- useCarSounds.ts (자동차 효과음 생성)
```

### **외부 라이브러리 검토**
```json
{
  "tone.js": "고급 오디오 처리 (가상악기) - 선택사항", 
  "howler.js": "크로스브라우저 오디오 (대안) - 선택사항"
}
```
**참고**: Web Audio API 네이티브 사용으로 외부 라이브러리 없이 구현 예정

### **데이터베이스 스키마 확장**
```sql
-- 색칠공부 작품 저장 (이미 구현됨)
CREATE TABLE coloring_artworks (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES profiles(id),
  word_id UUID REFERENCES words(id),
  artwork_data TEXT, -- Canvas 데이터
  created_at TIMESTAMP DEFAULT NOW()
);

-- 음악 활동 기록
CREATE TABLE music_activities (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES profiles(id),
  instrument_type VARCHAR(50), -- 'piano', 'car_sounds', 'violin'
  song_name VARCHAR(100), -- 연주한 곡명 (가이드 모드)
  play_duration INTEGER, -- 연주 시간(초)
  notes_played TEXT, -- 연주한 음표들 JSON
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 📅 **전체 일정 요약**

| Phase | 기능 | 기간 | 핵심 작업 |
|-------|------|------|-----------|
| **Phase 1** | 🎨 색칠공부 | 1-2주 | Canvas 시스템, 이미지 처리 ✅ **완료** |
| **Phase 2** | 🎵 가상 악기 | 2-3주 | 피아노, 자동차 사운드패드, 바이올린 |

**총 예상 기간: 3-5주** (Phase 1 완료, Phase 2 남음)

---

## 📝 **개발 진행 상황**

### ✅ **완료된 작업**
- [x] **Phase 1: 색칠공부 기능** (100% 완료)
  - [x] 1.1 컴포넌트 및 라우트 설정
  - [x] 1.2 색칠 캔버스 시스템 구현
  - [x] 1.3 이미지 처리 시스템
  - [x] 1.4 색칠 게임 로직
  - [x] 1.5 효과음 및 피드백
  - [x] 1.6 UI/UX 완성 및 테스트

### 🔄 **진행 중인 작업**
- [ ] 없음

### 📋 **다음 작업**
- [ ] **Phase 2.1: 기본 구조 및 오디오 엔진** (1일)
  - [ ] MusicView.vue 생성
  - [ ] 라우터에 /music 경로 추가  
  - [ ] Navigation에 음악 메뉴 아이콘 추가
  - [ ] useMusic.ts composable 생성